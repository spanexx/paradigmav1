<div class="tour-shell">
  <header class="tour-header">
    <div class="title-block">
      <nav class="breadcrumb" aria-label="breadcrumbs">
        <a href="#">Dashboard</a>
        <span>/</span>
        <a href="#">Portfolio</a>
        <span>/</span>
        <span aria-current="page">{{ asset.name }}</span>
      </nav>
      <h1>{{ asset.name }}</h1>
      <p>{{ asset.address }}</p>
    </div>
    <div class="header-actions">
      <span class="availability">
        <span class="dot"></span>
        {{ asset.availability }}
      </span>
      <button type="button" class="primary">
        <span class="material-symbols-outlined">calendar_month</span>
        Schedule visit
      </button>
      <button type="button" class="ghost">
        <span class="material-symbols-outlined">share</span>
        Share tour
      </button>
      <button type="button" class="ghost">
        <span class="material-symbols-outlined">download</span>
        Download brochure
      </button>
    </div>
  </header>

  <div class="tour-body">
    <section class="tour-canvas" aria-label="Virtual tour canvas">
      <div class="canvas-image" [style.background-image]="'url(' + asset.heroImage + ')'">
        <div class="canvas-overlay"></div>
        <div class="hotspot-card" *ngIf="activeHotspot() as hotspot">
          <header>
            <h2>{{ hotspot.title }}</h2>
            <button type="button" aria-label="Close hotspot" (click)="selectHotspot(hotspots[0])">
              <span class="material-symbols-outlined">close</span>
            </button>
          </header>
          <div class="hotspot-media" [style.background-image]="'url(' + hotspot.image + ')'" aria-hidden="true"></div>
          <p>{{ hotspot.description }}</p>
          <div class="hotspot-links">
            <a *ngFor="let link of hotspot.links" [href]="link.href">{{ link.label }}</a>
          </div>
        </div>
        <div class="canvas-controls">
          <button type="button" aria-label="Zoom in"><span class="material-symbols-outlined">zoom_in</span></button>
          <button type="button" aria-label="Zoom out"><span class="material-symbols-outlined">zoom_out</span></button>
          <button type="button" aria-label="Fullscreen"><span class="material-symbols-outlined">fullscreen</span></button>
        </div>
        <div class="canvas-minimap" aria-hidden="true"></div>
        <div class="tour-timeline" role="tablist">
          <button
            *ngFor="let scene of timeline(); let idx = index"
            type="button"
            [ngClass]="{ active: scene.active }"
            (click)="selectScene(idx)"
          >
            <span class="material-symbols-outlined">{{ scene.icon }}</span>
            {{ scene.label }}
          </button>
        </div>
      </div>
    </section>

    <aside class="tour-sidebar">
      <section class="hotspot-list" aria-label="Tour hotspots">
        <h2>Hotspots</h2>
        <ul>
          <li
            *ngFor="let hotspot of hotspots"
            (click)="selectHotspot(hotspot)"
            [ngClass]="{ active: hotspot.id === activeHotspot().id }"
          >
            <div class="thumbnail" [style.background-image]="'url(' + hotspot.image + ')'" aria-hidden="true"></div>
            <div>
              <p class="title">{{ hotspot.title }}</p>
              <p class="subtitle">Tap to inspect specs</p>
            </div>
          </li>
        </ul>
      </section>

      <section class="collaboration" aria-label="Collaboration">
        <header>
          <h2>Collaboration</h2>
          <p>Comments tethered to your scene.</p>
        </header>
        <ul>
          <li *ngFor="let comment of comments">
            <div class="avatar" [style.background-image]="'url(' + comment.avatar + ')'" aria-hidden="true"></div>
            <div class="comment-body">
              <div class="meta">
                <span class="author">{{ comment.author }}</span>
                <span class="timestamp">{{ comment.timestamp }}</span>
              </div>
              <p>{{ comment.message }}</p>
              <div
                class="attachment"
                *ngIf="comment.attachment"
                [style.background-image]="'url(' + comment.attachment + ')'"
                aria-hidden="true"
              ></div>
            </div>
          </li>
        </ul>
        <form class="comment-form" aria-label="Add comment">
          <input type="text" placeholder="Add a comment..." />
          <button type="submit" aria-label="Send comment">
            <span class="material-symbols-outlined">send</span>
          </button>
        </form>
      </section>
    </aside>
  </div>

  <footer class="tour-footer">
    <div>
      <strong>3 of 10 fractions remaining</strong>
      <span>Invest from â‚¬25,480 per fraction.</span>
    </div>
    <div class="footer-actions">
      <button type="button" class="ghost">
        <span class="material-symbols-outlined">bookmark_add</span>
        <span class="label">Watchlist</span>
      </button>
      <button type="button" class="primary">Invest now</button>
    </div>
  </footer>
</div>
