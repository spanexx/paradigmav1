.process-flow {
  @apply relative w-full;
  min-height: 350px; // Ensure adequate height
}

.process-flow__container {
  @apply mx-auto max-w-7xl px-6 py-12;
}

.process-flow__steps {
  @apply relative mb-16 flex justify-between gap-12;
}

.process-flow__step {
  @apply relative flex cursor-pointer flex-col items-center transition-all duration-300;
  z-index: 2;
  flex: 1;
  min-width: 0;
  max-width: 320px;
  
  &:hover {
    @apply transform scale-105;
  }
}

.process-flow__step--active {
  @apply transform scale-110;
}

.process-flow__step-marker {
  @apply relative mb-4 flex h-16 w-16 items-center justify-center rounded-full shadow-lg;
  border: 4px solid var(--border);
  background: var(--background);
  transition: all 300ms ease;
}

.process-flow__step--active .process-flow__step-marker {
  border: 4px solid var(--primary);
  background: color-mix(in oklab, var(--primary) 5%, transparent);
  box-shadow: 0 10px 15px -3px color-mix(in oklab, var(--primary) 10%, transparent), 0 4px 6px -4px color-mix(in oklab, var(--primary) 10%, transparent);
}

.process-flow__step-number {
  @apply text-xl font-bold;
  color: var(--foreground);
}

.process-flow__step--active .process-flow__step-number {
  color: var(--primary);
}

.process-flow__step-content {
  @apply text-center;
  max-width: 240px;
}

.process-flow__step-title {
  @apply mb-2 text-lg font-semibold;
  color: var(--foreground);
}

.process-flow__step--active .process-flow__step-title {
  color: var(--primary);
}

.process-flow__step-summary {
  @apply text-sm;
  color: var(--muted-foreground);
}

.process-flow__progress {
  @apply relative mb-16 h-1 w-full;
}

.process-flow__progress-line {
  @apply absolute left-0 top-1/2 h-0.5 w-full -translate-y-1/2;
  background: var(--border);
}

.process-flow__progress-fill {
  @apply absolute left-0 top-1/2 h-1 -translate-y-1/2 transition-all duration-500;
  background: linear-gradient(90deg, var(--primary), var(--secondary));
  width: 0%;
}

.process-flow__details {
  @apply rounded-2xl p-8 shadow-lg;
  border: 1px solid color-mix(in oklab, var(--border) 70%, transparent);
  background: var(--background);
  flex: 1; // Take remaining space
  min-height: 200px;
}

.process-flow__details-header {
  @apply mb-8 text-center;
}

.process-flow__details-title {
  @apply mb-2 text-3xl font-bold;
  color: var(--foreground);
}

.process-flow__details-summary {
  @apply text-lg;
  color: var(--muted-foreground);
}

.process-flow__details-subtitle {
  @apply mb-4 text-xl font-semibold;
  color: var(--foreground);
}

.process-flow__details-list {
  @apply grid gap-3;
}

.process-flow__details-item {
  @apply flex items-start gap-3;
}

.process-flow__details-bullet {
  @apply mt-1.5 inline-flex h-3 w-3 flex-none rounded-full;
  background: linear-gradient(180deg, var(--primary), var(--secondary));
}

.process-flow__details-text {
  color: var(--foreground);
}

@media (max-width: 1024px) {
  .process-flow__steps {
    @apply mb-12;
  }
  
  .process-flow__step-marker {
    @apply h-14 w-14;
  }
  
  .process-flow__step-number {
    @apply text-lg;
  }
  
  .process-flow__step-title {
    @apply text-base;
  }
  
  .process-flow__details {
    @apply p-6;
  }
  
  .process-flow__details-title {
    @apply text-2xl;
  }
  
  .process-flow__details-summary {
    @apply text-base;
  }
}

@media (max-width: 768px) {
  .process-flow__steps {
    @apply mb-10 flex-col items-center gap-8;
  }
  
  .process-flow__step {
    @apply w-full flex-row items-start gap-4;
  }
  
  .process-flow__step-marker {
    @apply mb-0 h-12 w-12;
  }
  
  .process-flow__step-content {
    @apply text-left;
  }
  
  .process-flow__progress {
    @apply hidden;
  }
  
  .process-flow__details-header {
    @apply mb-6 text-left;
  }
  
  .process-flow__details-title {
    @apply text-xl;
  }
  
  .process-flow__details-summary {
    @apply text-base;
  }
  
  .process-flow__details-subtitle {
    @apply text-lg;
  }
  
  .process-flow__details {
    min-height: 250px; // More space on mobile
  }
}